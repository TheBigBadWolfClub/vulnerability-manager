# Vulnerability Challenge
> Common Vulnerability Scoring System<br>
https://en.wikipedia.org/wiki/Common_Vulnerability_Scoring_System

Very basic application to manage found vulnerabilities and their Score System

This App as been developed to gain some knowledge in a few frameworks<br>
The main focus is on functional code, trading code quality and unit testing for the speed of implementation.

#### Use cases:
- add vulnerability
- list vulnerabilities
- Edit vulnerability attack, temporal and environmental vectors
- view vulnerability score
- view scores in a graphic representation

#### Stack
- Backend
  - NodeJS/Express
  - GraphQL 
  - RestApi 
  - MongoDB
- Frontend
  - React (frontend only queries data using GraphQL)

url's:   
- GraphQL:    http://\<host\>/graphql
- RestApi:    http://\<host\>/api
- Static(FE): http://\<host\>/ 

#### Structure<br>
**backend**: source code for the nodejs backend<br>
**frontend**: source code for the react frontend<br>
**deploy**: folder contains dockerfiles and other files required by the setup<br>
**dump**: dump of mongoDB, it will be restored in mongoDB docker image<br>
**docker-compose.yml**: file is located at the root of the project<br>
**documents**: GraphQL queries that can be used in GraphiQL (http://\<host\>/graphql)<br>
### Setup and deploy

Requirements:
- docker-compose

```shell
 docker-compose build && docker-compose up -d
```
To Login in webapp or mongoexpress: ``admin:admin``<br>
docker-compose.yml will start 4 docker containers:

- 1 - webapp - will start nodejs to serve API and static web pages (http://localhost:8080/)
- 2 - mongoexpress - UI interface for mongoDB (http://localhost:8081/)
- 3 - mongo - the mongoDB instance 
- 4 - mongo-seed - restore _dump_ to mongo DB


### Implementation details

This app as been implemented as a tutorial to learn new frameworks:
- React
- GraphQl
- MongoDB

Missing uses cases, future improvements:
- image upload
- no correlation between users and vulnerabilities
- all users in the system have the same permissions
- This more of a vulnerability library, and does not have integration with customers


#### API

The API has been implemented using GraphQl, this gives frontend developers the ability to make custom requests.

This is very different from Rest Api's, in GraphQl only one end point exists and all requests are made using POST.

documents/local_queries.graphql, contains some examples used to develop this APP.

#### Database

The database is composed by four collections:

- users: only used to authenticate user request to api
- vulnerabilities: to store details for a given vulnerability
    - id, name, description, evidences, preventions,  (id_cvsses, id_cvssscores)
- cvsees: to store CVSS information
- cvssscores: to store the calculation of CVSS

#### Relations:

The relation from the three collections is 1-1 (vulnerabilities, cvsses, cvssscores).

- All 3 have an ID entry to the corresponding document on the other collection.

This way and using Grapql, it was easy to query data, using an ID from any collection.

Example:

- vulnerability ID: a query to this collection, can be filled with information from any other collection
- cvsses ID: a query to this collection, can be filled with information from other any collection 
 

### LICENSE

The content of this project itself is licensed under the Creative Commons Attribution 3.0 Unported license, and the underlying source code used to format and display that content is licensed under the MIT license.