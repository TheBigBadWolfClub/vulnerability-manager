const cvssRepository = require("./repository");
const {buildError} = require("../core/app-error");
module.exports = {
    get: async (id) => {
        const entity = await cvssRepository.findById(id);
        if (!entity) {
            throw buildError(404);
        }
        return entity
    },
    list: async () => {
        return await cvssRepository.find();
    },
    update: async (args) => {
        const entity = await cvssRepository.findById(args.id);
        if (!entity) {
            throw buildError(404);
        }
        const update = Object.assign(entity, args.input)
        update.save();
        return update;
    },
}